---
title: Sound
layout: layouts/compform_chapter.pug
debug: false

header_title: "Comp Sound"
next: 
next_url: 
previous: Generating Text
previous_url: ../text

hero_title: Comp Sound

description: Make some noise using the p5 sound library.
software: p5.js
---

## Sound


### p5.js Sound Library

In addition to the basic drawing API, p5.js includes add-on [libraries](https://p5js.org/libraries/). The interface chapter introduces the p5.dom library, and the examples in the chapter use the p5.sound library. The p5.sound library builds on the [Web Audio](https://developer.mozilla.org/en-US/docs/Web/API/Web_Audio_API) API and provides functions for generating tones, playing recorded sounds, and visualizing the waveform and spectrum of sounds. I highly suggest taking a look at **all** of the sound examples to get an idea of what the sound library can do.



- [p5.sound API Reference](https://p5js.org/reference/#/libraries/p5.sound)
- [p5.sound Examples](https://p5js.org/examples/)


::: .discussion
## Drawings and Sounds

Compare a basic p5.js drawing with a p5.audio sketch. What do they have in common? How are they different?



### Hello, p5.js!

```javascript
function setup() {
    createCanvas(500, 500);
}

function draw() {
    fill(255, 0, 0);
    noStroke();
    ellipse(250, 250, 100, 100);
}
```

### Hello, p5.sound!

```javascript
function setup() {
    myOscillator = new p5.Oscillator('sine');
    myOscillator.amp(1);
    myOscillator.freq(440);
    myOscillator.start();
}
```
/::

### Computers, Light, Sound, and People

Light and sound flow through our environment as electromagnetic and air pressure waves. Our eyes and our ears collect data about these waves and our visual and auditory cortexes process that data to create information. These sensory systems work in different ways but are both powerful. We can take advantage of these systems by choosing the types of forms we create.

[Light and Sound Lecture Notes](./light_and_sound.html)






## Generating Sound with p5.js

### Generating Tones
::: js-lab
/sound/sketches/oscillator.js
/::

### Modulating Tones
::: js-lab
/sound/sketches/modulator.js
/::

### Playing Recorded Sounds
::: js-lab
/sound/sketches/two_loops.js
/::

Audio clip from [Hackers(1995)](http://www.imdb.com/title/tt0113243/)


## Capturing Output

p5.sound provides methods for recording the sound generated by your program and saving it to a file. The following example records `length` milliseconds of audio and saves it as `output.wav`. Your audio may sound fine at run time but clipped when you play back the `.wav`. If this happens, try reducing the volume of the sounds you generate. 

```javascript
// uses the p5 SoundRecorder and SoundFile classes to record the audio output.
// begins recording when called. records for _length_ time in milliseconds.
function record(length){
    var soundRecorder = new p5.SoundRecorder();
    var soundFile = new p5.SoundFile();
    soundRecorder.record(soundFile);
    setTimeout(function() {
        console.log("Recording Complete");
        soundRecorder.stop();
        save(soundFile, "output.wav");
    }, length);
}
```

## Visualizing Sound with p5.js



### Volume

RMS

::: js-lab
/sound/sketches/volume.js
/::

### Wave

::: js-lab
/sound/sketches/wave.js
/::


### FFT

::: js-lab
/sound/sketches/fft.js
/::







FFT Video



http://jamie-wong.com/post/color/

http://psam3060-d-s16.github.io/class_notes/week_8/

http://psam3060-d-s16.github.io/class_notes/week_9/docco_out/

http://psam3060-d-s16.github.io/class_notes/week_9/